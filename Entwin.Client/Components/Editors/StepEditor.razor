@using Entwin.Client.Components
@using Microsoft.AspNetCore.Components

<div class="editor-panel">
    <h4>Step Component Editor</h4>

    <div class="form-group">
        <label>Start Value:</label>
        <input type="number"
               class="form-control"
               @bind="Component.StartValue"
               @bind:event="oninput" />
    </div>

    <div class="form-group">
        <label>End Value:</label>
        <input type="number"
               class="form-control"
               @bind="Component.EndValue"
               @bind:event="oninput" />
    </div>

    <div class="form-group">
        <label>Switch Time (s):</label>
        <input type="number"
               class="form-control"
               @bind="Component.SwitchTime"
               @bind:event="oninput" />
    </div>

    <div class="form-actions">
        <button class="btn btn-primary" @onclick="Apply">Apply</button>
        <button class="btn btn-secondary" @onclick="Close">Close</button>
    </div>
</div>

@code {
    [Parameter]
    public Components.Step Component { get; set; } = default!;

    [Parameter]
    public EventCallback OnClose { get; set; }

    private void Apply()
    {
        Component.DisplayName = $"{Component.StartValue}/{Component.EndValue}";
    }

    private void Close()
    {
        OnClose.InvokeAsync();
    }
}
