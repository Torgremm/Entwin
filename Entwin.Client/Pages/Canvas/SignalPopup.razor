@using Entwin.Client.Pages.Canvas

@if (Show && Values?.Any() == true)
{
    <div style="
        position: absolute;
        left: @CursorPosition.X}px;
        top: @CursorPosition.Y}px;
        width: 400px;
        height: 300px;
        background: white;
        border: 1px solid #ccc;
        padding: 10px;
        z-index: 5000;
        box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        overflow: hidden;
        user-select: none;
        pointer-events: auto;">

        <PlotComponent 
            YValues="Values" 
            XValues="Times" 
            Label="Signal" />

        <button @onclick="OnClose"
                style="margin-top: 5px;">
            Close
        </button>
    </div>
}

@code {
    [Parameter] public bool Show { get; set; }

    [Parameter] public List<double> Values { get; set; } = [];

    [Parameter] public List<double> Times { get; set; } = [];

    [Parameter] public (int X, int Y) CursorPosition { get; set; }

    [Parameter] public EventCallback OnClose { get; set; }
}
